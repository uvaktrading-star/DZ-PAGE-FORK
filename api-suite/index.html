<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>DZ PAGE | API Suite - Free APIs Collection</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>

    <script>
        tailwind.config = { darkMode: 'class' }
    </script>

    <style>
        body { font-family: 'Poppins', sans-serif; transition: background-color 0.3s ease; overflow-x: hidden !important; width: 100%; }
        #main-header { position: fixed !important; top: 0 !important; left: 0 !important; right: 0 !important; width: 100% !important; z-index: 9999 !important; background: rgba(255, 255, 255, 0.85); backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px); }
        .dark #main-header { background: rgba(15, 23, 42, 0.85); }
        .glass-card { background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); transition: transform 0.3s ease, border-color 0.3s ease; }
        .dark .glass-card { background: rgba(15, 23, 42, 0.6); border: 1px solid rgba(255, 255, 255, 0.05); }
        .glass-card:hover { transform: translateY(-5px); }
        .float-anim { animation: float 4s ease-in-out infinite; }
        @keyframes float { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-12px); } }
        [data-aos] { pointer-events: none; }
        .aos-animate { pointer-events: auto; }
        #mobile-menu { max-height: 0; opacity: 0; overflow: hidden; transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1); }
        #mobile-menu.active { max-height: 600px; opacity: 1; border-bottom-width: 1px; }
        .api-category-badge { position: absolute; top: -12px; left: 20px; padding: 4px 16px; border-radius: 20px; font-size: 11px; font-weight: 800; letter-spacing: 0.5px; text-transform: uppercase; }
        .copy-btn { position: relative; overflow: hidden; }
        .copy-btn::after { content: 'Copied!'; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: #10b981; color: white; display: flex; align-items: center; justify-content: center; font-weight: 600; transform: translateY(100%); transition: transform 0.3s ease; }
        .copy-btn.copied::after { transform: translateY(0); }
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1); border-radius: 10px; }
        ::-webkit-scrollbar-thumb { background: #3b82f6; border-radius: 10px; }
        .dark ::-webkit-scrollbar-track { background: rgba(255, 255, 255, 0.1); }
        .ai-model-card { background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); transition: all 0.3s ease; }
        .dark .ai-model-card { background: rgba(15, 23, 42, 0.6); border: 1px solid rgba(255, 255, 255, 0.05); }
        .ai-model-card:hover { transform: translateY(-5px); box-shadow: 0 20px 40px rgba(147, 51, 234, 0.1); }
        .dark .ai-model-card:hover { box-shadow: 0 20px 40px rgba(147, 51, 234, 0.2); }
    </style>
</head>
<body class="bg-white dark:bg-slate-950 text-slate-900 dark:text-white pt-24">
    <header id="main-header" class="border-b border-slate-200/50 dark:border-slate-800/50">
        <div class="container mx-auto px-4 md:px-10 h-16 md:h-20 flex items-center justify-between">

            <a href="#" class="flex items-center space-x-2 shrink-0">
                <div class="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center">
                    <i class="fa-solid fa-bolt text-white text-sm"></i>
                </div>
                <span class="text-xl font-bold dark:text-white uppercase tracking-tight">DZ<span
                        class="text-blue-600">PAGE</span></span>
            </a>

            <nav class="hidden lg:flex items-center space-x-8 text-sm font-semibold text-slate-600 dark:text-slate-300">
                <a href="/free-bots" class="hover:text-blue-600 transition">Free Bots</a>
                <a href="/social_boost" class="hover:text-blue-600 transition">Social Boost</a>
                <a href="/index.html?chat=open" onclick=" class="hover:text-blue-600 transition">AI Chat</a>
                <a href="/api-suite" class="hover:text-blue-600 transition">API Suite</a>
            </nav>

            <div class="flex items-center space-x-3">
                <div id="desktop-auth" class="hidden lg:flex items-center space-x-4">
                    <div id="auth-loading"
                        class="w-5 h-5 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"></div>
                    <a href="/login" id="login-btn-dt"
                        class="hidden px-6 py-2 bg-blue-600 text-white text-xs font-bold rounded-xl hover:bg-blue-700 transition">LOGIN</a>

                    <div id="user-profile-dt"
                        class="hidden flex items-center space-x-3 border-l pl-4 border-slate-200 dark:border-slate-700">
                        <div class="text-right hidden sm:block">
                            <p id="user-name-dt"
                                class="text-[11px] font-bold text-slate-900 dark:text-white leading-none mb-1"></p>
                            <p class="text-[9px] text-blue-600 font-bold uppercase tracking-tighter">Verified User</p>
                        </div>
                        <img id="user-img-dt" src="" class="w-9 h-9 rounded-full border-2 border-blue-600">
                        <button onclick="logout()"
                            class="text-[10px] bg-red-500/10 text-red-500 px-2 py-1 rounded-lg font-bold hover:bg-red-500 hover:text-white transition">LOGOUT</button>
                    </div>
                </div>

                <button id="mobile-menu-btn"
                    class="lg:hidden p-1 rounded-full bg-slate-100 dark:bg-slate-800 text-slate-900 dark:text-white border border-slate-200 dark:border-slate-700 shrink-0 overflow-hidden w-10 h-10 flex items-center justify-center transition-transform active:scale-90">
                    <i class="fa-solid fa-bars-staggered text-lg" id="menu-icon"></i>
                </button>
            </div>
        </div>

        <div id="mobile-menu"
            class="lg:hidden w-full bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800">
            <div class="flex flex-col p-6 space-y-4 font-semibold">
                <div id="user-info-mb"
                    class="hidden flex items-center space-x-4 pb-4 border-b border-slate-100 dark:border-slate-800">
                    <img id="user-img-mb" src="" class="w-12 h-12 rounded-full border-2 border-blue-600">
                    <div>
                        <p id="user-name-mb" class="text-sm font-bold"></p>
                        <button onclick="logout()" class="text-xs text-red-500 font-bold">Logout Account</button>
                    </div>
                </div>

                <a href="/login" id="login-btn-mb"
                    class="hidden py-3 bg-blue-600 text-white text-center rounded-2xl font-bold">Login / Register</a>

                <a href="/free-bots" class="hover:text-blue-600 py-2 flex items-center"><i
                        class="fa-solid fa-robot w-8 text-blue-600"></i> Free Bots</a>
                <a href="#" class="hover:text-blue-600 py-2 flex items-center"><i
                        class="fa-solid fa-rocket w-8 text-purple-600"></i> Social Boost</a>
                <a href="#" onclick="openChatFromLink(event)" class="hover:text-blue-600 py-2 flex items-center"><i
                        class="fa-solid fa-brain w-8 text-emerald-600"></i> AI Chat</a>
                <a href="/api-suite" class="hover:text-blue-600 py-2 flex items-center"><i
                        class="fa-solid fa-code w-8 text-orange-500"></i> API Suite</a>
            </div>
        </div>
    </header>

    <main class="min-h-screen">
        <section class="relative py-16 px-6 bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-slate-900 dark:to-blue-950/30">
            <div class="container mx-auto text-center" data-aos="zoom-in" data-aos-duration="1000">
                <h1 class="text-4xl md:text-7xl font-extrabold mb-6 tracking-tighter">
                    <span class="bg-gradient-to-r from-orange-500 to-yellow-500 bg-clip-text text-transparent">API Suite</span>
                </h1>
                <p class="text-slate-600 dark:text-slate-300 text-lg md:text-xl max-w-3xl mx-auto mb-8">
                    Explore our collection of free and powerful APIs. From weather data to fun facts, 
                    everything you need for your next project.
                </p>
                <div class="flex flex-wrap justify-center gap-4 mb-12">
                    <div class="px-6 py-3 bg-blue-600 text-white rounded-xl font-bold shadow-lg shadow-blue-600/40">
                        <i class="fas fa-plug mr-2"></i>43+ APIs
                    </div>
                    <div class="px-6 py-3 bg-emerald-600 text-white rounded-xl font-bold shadow-lg shadow-emerald-600/40">
                        <i class="fas fa-lock-open mr-2"></i>33 Free APIs
                    </div>
                    <div class="px-6 py-3 bg-purple-600 text-white rounded-xl font-bold shadow-lg shadow-purple-600/40">
                        <i class="fas fa-layer-group mr-2"></i>15 Categories
                    </div>
                </div>
            </div>
        </section>

        <section class="py-10 px-6">
            <div class="container mx-auto">
                <div class="glass-card rounded-2xl p-6 mb-8" data-aos="fade-up">
                    <div class="flex flex-col md:flex-row gap-4">
                        <div class="flex-1 relative">
                            <i class="fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400"></i>
                            <input type="text" id="apiSearch" placeholder="Search APIs by name, category, or description..." class="w-full pl-12 pr-4 py-3 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <select id="categoryFilter" class="px-4 py-3 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="all">All Categories</option>
                        </select>
                        <select id="authFilter" class="px-4 py-3 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="all">All Auth Types</option>
                            <option value="No">No Auth Required</option>
                            <option value="Yes">API Key Required</option>
                            <option value="OAuth">OAuth Required</option>
                        </select>
                    </div>
                </div>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
                    <div class="glass-card p-4 rounded-xl text-center" data-aos="fade-up" data-aos-delay="100">
                        <div class="text-2xl font-bold text-blue-600">43</div>
                        <div class="text-sm text-slate-500">Total APIs</div>
                    </div>
                    <div class="glass-card p-4 rounded-xl text-center" data-aos="fade-up" data-aos-delay="200">
                        <div class="text-2xl font-bold text-emerald-600">33</div>
                        <div class="text-sm text-slate-500">Free APIs</div>
                    </div>
                    <div class="glass-card p-4 rounded-xl text-center" data-aos="fade-up" data-aos-delay="300">
                        <div class="text-2xl font-bold text-purple-600">15</div>
                        <div class="text-sm text-slate-500">Categories</div>
                    </div>
                    <div class="glass-card p-4 rounded-xl text-center" data-aos="fade-up" data-aos-delay="400">
                        <div class="text-2xl font-bold text-orange-600">10</div>
                        <div class="text-sm text-slate-500">Require Auth</div>
                    </div>
                </div>
            </div>
        </section>

        <section class="pb-20 px-6">
            <div class="container mx-auto">
                <div id="apiGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
                <div id="noResults" class="hidden text-center py-20">
                    <i class="fas fa-search text-6xl text-slate-300 dark:text-slate-700 mb-6"></i>
                    <h3 class="text-2xl font-bold mb-2">No APIs Found</h3>
                    <p class="text-slate-500">Try adjusting your search or filter criteria</p>
                </div>
            </div>
        </section>

        <section class="py-16 px-6 bg-gradient-to-b from-transparent to-blue-50 dark:to-slate-900/50">
            <div class="container mx-auto">
                <div class="glass-card rounded-2xl p-8" data-aos="fade-up">
                    <div class="text-center mb-10">
                        <h2 class="text-3xl font-bold mb-4">Quick API Test</h2>
                        <p class="text-slate-500">Test any API endpoint directly from here</p>
                    </div>
                    <div class="flex flex-col md:flex-row gap-4 mb-6">
                        <div class="flex-1">
                            <label class="block text-sm font-semibold mb-2">API Endpoint</label>
                            <div class="relative">
                                <input type="text" id="testEndpoint" value="https://catfact.ninja/fact" class="w-full px-4 py-3 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm">
                                <button onclick="copyToClipboard('testEndpoint')" class="absolute right-2 top-1/2 transform -translate-y-1/2 px-3 py-1 bg-slate-100 dark:bg-slate-700 rounded-lg text-xs font-semibold copy-btn">
                                    <i class="far fa-copy"></i>
                                </button>
                            </div>
                        </div>
                        <div class="flex items-end">
                            <button onclick="testAPI()" class="px-8 py-3 bg-blue-600 text-white font-bold rounded-xl hover:bg-blue-700 transition flex items-center gap-2">
                                <i class="fas fa-bolt"></i> Test API
                            </button>
                        </div>
                    </div>
                    <div id="testResult" class="hidden">
                        <label class="block text-sm font-semibold mb-2">Response</label>
                        <div class="bg-slate-900 text-slate-100 rounded-xl p-4">
                            <pre id="responseOutput" class="text-sm overflow-auto max-h-60"></pre>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="py-16 px-6 bg-gradient-to-b from-transparent to-purple-50 dark:to-slate-900/50">
            <div class="container mx-auto">
                <div class="text-center mb-12" data-aos="fade-up">
                    <h2 class="text-3xl font-bold mb-4">
                        <span class="bg-gradient-to-r from-purple-600 to-pink-500 bg-clip-text text-transparent">Free AI Models</span>
                    </h2>
                    <p class="text-slate-500 max-w-3xl mx-auto mb-8">
                        Access 18+ powerful AI models via OpenRouter API. Completely free with generous limits.
                    </p>
                    <div class="flex flex-wrap justify-center gap-3 mb-12">
                        <div class="px-4 py-2 bg-purple-600 text-white rounded-xl text-sm font-bold">
                            <i class="fas fa-brain mr-2"></i>18 Free Models
                        </div>
                        <div class="px-4 py-2 bg-pink-600 text-white rounded-xl text-sm font-bold">
                            <i class="fas fa-eye mr-2"></i>Multimodal Support
                        </div>
                        <div class="px-4 py-2 bg-indigo-600 text-white rounded-xl text-sm font-bold">
                            <i class="fas fa-code mr-2"></i>OpenRouter API
                        </div>
                        <div class="px-4 py-2 bg-emerald-600 text-white rounded-xl text-sm font-bold">
                            <i class="fas fa-bolt mr-2"></i>1M+ Context
                        </div>
                    </div>
                </div>

                <div id="aiModelsGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
                
                <div class="mt-12 grid grid-cols-2 md:grid-cols-4 gap-4">
                    <div class="glass-card p-4 rounded-xl text-center" data-aos="fade-up">
                        <div class="text-2xl font-bold text-purple-600">18</div>
                        <div class="text-sm text-slate-500">AI Models</div>
                    </div>
                    <div class="glass-card p-4 rounded-xl text-center" data-aos="fade-up" data-aos-delay="100">
                        <div class="text-2xl font-bold text-pink-600">6</div>
                        <div class="text-sm text-slate-500">Multimodal</div>
                    </div>
                    <div class="glass-card p-4 rounded-xl text-center" data-aos="fade-up" data-aos-delay="200">
                        <div class="text-2xl font-bold text-indigo-600">8</div>
                        <div class="text-sm text-slate-500">Providers</div>
                    </div>
                    <div class="glass-card p-4 rounded-xl text-center" data-aos="fade-up" data-aos-delay="300">
                        <div class="text-2xl font-bold text-emerald-600">100%</div>
                        <div class="text-sm text-slate-500">Free</div>
                    </div>
                </div>

                <div class="glass-card rounded-2xl p-6 mt-12" data-aos="fade-up">
                    <div class="flex flex-col lg:flex-row gap-6">
                        <div class="lg:w-1/3">
                            <div class="mb-6">
                                <label class="block text-sm font-semibold mb-3">Select AI Model</label>
                                <div class="relative">
                                    <i class="fas fa-robot absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400"></i>
                                    <select id="aiModelSelect" class="w-full pl-12 pr-4 py-3 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 focus:outline-none focus:ring-2 focus:ring-purple-500"></select>
                                </div>
                            </div>
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-xs font-semibold text-slate-500 mb-2">OpenRouter API Key</label>
                                    <div class="relative">
                                        <input type="password" id="openrouterKey" placeholder="Enter your API key" class="w-full px-4 py-3 bg-slate-50 dark:bg-slate-800/50 rounded-xl border border-slate-200 dark:border-slate-700 text-sm">
                                        <button onclick="toggleApiKeyVisibility()" class="absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300">
                                            <i class="far fa-eye" id="keyEyeIcon"></i>
                                        </button>
                                    </div>
                                    <p class="text-xs text-slate-400 mt-2">
                                        Get free API key from <a href="https://openrouter.ai" target="_blank" class="text-purple-500 hover:underline font-semibold">openrouter.ai</a>
                                    </p>
                                </div>
                                <button onclick="useDemoKey()" class="w-full px-4 py-3 bg-gradient-to-r from-purple-600 to-pink-500 text-white rounded-xl font-bold hover:opacity-90 transition">
                                    <i class="fas fa-magic mr-2"></i>Try with Demo Key
                                </button>
                                <div class="text-xs text-slate-500 p-3 bg-slate-50 dark:bg-slate-800/30 rounded-lg">
                                    <i class="fas fa-info-circle text-blue-500 mr-1"></i>
                                    All models are free via OpenRouter with 10,000 free credits daily
                                </div>
                            </div>
                        </div>
                        <div class="lg:w-2/3">
                            <div class="mb-4">
                                <label class="block text-sm font-semibold mb-2">Your Message</label>
                                <textarea id="aiMessage" placeholder="Ask me anything... Example: 'Explain quantum computing in simple terms'" rows="4" class="w-full px-4 py-3 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none"></textarea>
                            </div>
                            <div class="flex flex-col sm:flex-row gap-3 mb-6">
                                <button onclick="sendAIChat()" id="sendAIBtn" class="flex-1 px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-bold rounded-xl hover:opacity-90 transition flex items-center justify-center gap-2">
                                    <i class="fas fa-paper-plane"></i> Send to AI
                                </button>
                                <button onclick="loadExample()" class="px-6 py-3 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 font-semibold rounded-xl hover:bg-slate-200 dark:hover:bg-slate-700 transition">
                                    <i class="fas fa-lightbulb"></i> Example
                                </button>
                                <button onclick="clearChat()" class="px-6 py-3 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 font-semibold rounded-xl hover:bg-red-200 dark:hover:bg-red-900/50 transition">
                                    <i class="fas fa-trash"></i> Clear
                                </button>
                            </div>
                            <div id="aiResponse" class="hidden">
                                <div class="flex items-center justify-between mb-3">
                                    <label class="block text-sm font-semibold">AI Response</label>
                                    <button onclick="copyAIText()" class="text-xs px-3 py-1 bg-slate-100 dark:bg-slate-800 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-700">
                                        <i class="far fa-copy mr-1"></i>Copy
                                    </button>
                                </div>
                                <div class="bg-slate-900 text-slate-100 rounded-xl p-4 min-h-[200px]">
                                    <div id="responseText" class="text-sm leading-relaxed"></div>
                                    <div id="aiLoading" class="hidden text-center py-8">
                                        <div class="inline-block w-8 h-8 border-2 border-purple-500 border-t-transparent rounded-full animate-spin"></div>
                                        <p class="mt-3 text-slate-400">AI is thinking...</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="border-t border-slate-200 dark:border-slate-800 py-10 text-center">
        <div class="container mx-auto px-6">
            <p class="text-slate-500 text-sm mb-4">© 2026 DZ PAGE. All rights reserved.</p>
            <p class="text-slate-400 text-xs">API data sourced from public repositories. Some APIs may require registration.</p>
        </div>
    </footer>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyC_67UNhad_m-LbjfmY17-FkcWoxntTnCw",
            authDomain: "dz-page.firebaseapp.com",
            projectId: "dz-page",
            storageBucket: "dz-page.firebasestorage.app",
            messagingSenderId: "280353031470",
            appId: "1:280353031470:web:9095121dffa663ae0e26bf"
        };
        firebase.initializeApp(firebaseConfig);

        const allApis = [
            { category: "Knowledge", name: "Wikipedia API", description: "Search Wikipedia articles and get summaries", endpoint: "https://en.wikipedia.org/api/rest_v1/page/summary/OpenAI", auth: "No" },
            { category: "Weather", name: "Open-Meteo", description: "Free weather forecast API", endpoint: "https://api.open-meteo.com/v1/forecast?latitude=40.7&longitude=-74&hourly=temperature_2m", auth: "No" },
            { category: "Weather", name: "OpenWeatherMap", description: "Current weather and forecast data", endpoint: "https://api.openweathermap.org/data/2.5/weather?q=London&appid=API_KEY", auth: "Yes" },
            { category: "IP & Network", name: "IPify", description: "Get public IP address", endpoint: "https://api.ipify.org?format=json", auth: "No" },
            { category: "IP & Network", name: "IPAPI", description: "IP geolocation data", endpoint: "https://ipapi.is/8.8.8.8", auth: "No" },
            { category: "Fun", name: "Cat Facts", description: "Random cat facts", endpoint: "https://catfact.ninja/fact", auth: "No" },
            { category: "Fun", name: "JokeAPI", description: "Programming and general jokes", endpoint: "https://v2.jokeapi.dev/joke/Any", auth: "No" },
            { category: "Quotes", name: "Quotes API", description: "Collection of famous quotes", endpoint: "https://type.fit/api/quotes", auth: "No" },
            { category: "Testing", name: "JSONPlaceholder", description: "Fake REST API for testing", endpoint: "https://jsonplaceholder.typicode.com/posts", auth: "No" },
            { category: "Testing", name: "ReqRes", description: "Test API for frontend developers", endpoint: "https://reqres.in/api/users", auth: "No" },
            { category: "Games", name: "PokéAPI", description: "Pokémon game data", endpoint: "https://pokeapi.co/api/v2/pokemon/pikachu", auth: "No" },
            { category: "Games", name: "Deck of Cards", description: "Virtual deck of cards API", endpoint: "https://deckofcardsapi.com/api/deck/new/draw/?count=1", auth: "No" },
            { category: "Finance", name: "CoinGecko", description: "Cryptocurrency prices and market data", endpoint: "https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd", auth: "No" },
            { category: "Finance", name: "ExchangeRate API", description: "Currency exchange rates", endpoint: "https://open.er-api.com/v6/latest/USD", auth: "No" },
            { category: "Images", name: "Unsplash", description: "Free stock image search", endpoint: "https://api.unsplash.com/search/photos?query=code&client_id=API_KEY", auth: "Yes" },
            { category: "Images", name: "Lorem Picsum", description: "Random placeholder images", endpoint: "https://picsum.photos/300/200", auth: "No" },
            { category: "Time", name: "World Time API", description: "Current time by timezone", endpoint: "https://worldtimeapi.org/api/timezone/Asia/Kolkata", auth: "No" },
            { category: "Numbers", name: "Numbers API", description: "Interesting number facts", endpoint: "http://numbersapi.com/42/math", auth: "No" },
            { category: "Health", name: "Disease.sh", description: "COVID-19 and disease statistics", endpoint: "https://disease.sh/v3/covid-19/all", auth: "No" },
            { category: "Space", name: "SpaceX API", description: "SpaceX launch and rocket data", endpoint: "https://api.spacexdata.com/v4/launches/latest", auth: "No" },
            { category: "Books", name: "Open Library", description: "Book search and metadata", endpoint: "https://openlibrary.org/search.json?q=harry+potter", auth: "No" },
            { category: "Dictionary", name: "Free Dictionary API", description: "Word meanings and definitions", endpoint: "https://api.dictionaryapi.dev/api/v2/entries/en/hello", auth: "No" },
            { category: "Random", name: "Random User", description: "Generate random user profiles", endpoint: "https://randomuser.me/api/", auth: "No" },
            { category: "Animals", name: "Dog API", description: "Random dog images", endpoint: "https://dog.ceo/api/breeds/image/random", auth: "No" },
            { category: "Utility", name: "REST Countries", description: "Get country data including names, population, flags and codes", endpoint: "https://restcountries.com/v3.1/all", auth: "No" },
            { category: "Utility", name: "Advice Slip", description: "Random advice generator API", endpoint: "https://api.adviceslip.com/advice", auth: "No" },
            { category: "Utility", name: "Bored API", description: "Suggests random activities to beat boredom", endpoint: "https://www.boredapi.com/api/activity", auth: "No" },
            { category: "Developer Tools", name: "Agify", description: "Predicts age from a given name", endpoint: "https://api.agify.io?name=michael", auth: "No" },
            { category: "Developer Tools", name: "Genderize", description: "Predicts gender from a given first name", endpoint: "https://api.genderize.io?name=luc", auth: "No" },
            { category: "Developer Tools", name: "API Flash", description: "Website screenshot API", endpoint: "https://api.apiflash.com/v1/urltoimage?access_key=API_KEY&url=https://example.com", auth: "Yes" },
            { category: "Text & Language", name: "kanye.rest", description: "Random Kanye West quote API", endpoint: "https://api.kanye.rest/", auth: "No" },
            { category: "Text & Language", name: "Quote Garden", description: "Famous quotes API with many categories", endpoint: "https://quote-garden.herokuapp.com/api/v3/quotes/random", auth: "No" },
            { category: "Animals", name: "Random Fox", description: "Random fox images", endpoint: "https://randomfox.ca/floof/", auth: "No" },
            { category: "Animals", name: "Dogs API (facts)", description: "Random dog facts", endpoint: "https://dog-api.kinduff.com/api/facts", auth: "No" },
            { category: "Gaming", name: "Dungeons and Dragons API", description: "Reference data for DnD 5th edition spells, monsters, classes", endpoint: "https://www.dnd5eapi.co/api/spells", auth: "No" },
            { category: "Data & Geo", name: "Geocode.xyz", description: "Worldwide forward/reverse geocoding", endpoint: "https://geocode.xyz/Los+Angeles?geoit=json", auth: "No" },
            { category: "Calendar & Time", name: "Sunrise-Sunset", description: "Sunrise and sunset times for any location", endpoint: "https://api.sunrise-sunset.org/json?lat=36.7201600&lng=-4.4203400", auth: "No" },
            { category: "Health", name: "Covid19 API", description: "Global COVID-19 daily data", endpoint: "https://api.covid19api.com/summary", auth: "No" },
            { category: "News", name: "NewsAPI.org", description: "Current and historic news articles in JSON", endpoint: "https://newsapi.org/v2/top-headlines?country=us&apiKey=API_KEY", auth: "Yes" },
            { category: "Music & Media", name: "Spotify Web API", description: "Music catalog, playlists and track metadata", endpoint: "https://api.spotify.com/v1/artists/{id}", auth: "OAuth" },
            { category: "Music & Media", name: "YouTube Data API", description: "Search and video metadata for YouTube", endpoint: "https://www.googleapis.com/youtube/v3/search?part=snippet&q=music&key=API_KEY", auth: "Yes" },
            { category: "Sports", name: "OpenLigaDB", description: "Sports league results and data API", endpoint: "https://www.openligadb.de/api/getmatchdata/bl1/2025/1", auth: "No" },
            { category: "URLs & Tools", name: "Httpbin", description: "Test HTTP request/response API", endpoint: "https://httpbin.org/get", auth: "No" },
            { category: "URLs & Tools", name: "Short Link", description: "URL shortening service API", endpoint: "https://api.shrtco.de/v2/shorten?url=example.org", auth: "No" }
        ];

        const openRouterModels = [
            { provider: "Google", display_name: "Gemma 3n 2B (Free)", model_family: "Gemma 3n", parameters: "2B effective (6B architecture)", multimodal: true, context_length: "8K", pricing: { input: "$0 / million tokens", output: "$0 / million tokens" }, description: "Multimodal instruction-tuned model optimized for low-resource deployment with strong multilingual and reasoning performance.", use_cases: ["Multilingual reasoning", "Code", "Math", "Web tasks"], model_id: "google/gemma-3n-2b:free" },
            { provider: "Google", display_name: "Gemma 3 12B (Free)", model_family: "Gemma 3", parameters: "12B", multimodal: true, context_length: "33K", pricing: { input: "$0 / million tokens", output: "$0 / million tokens" }, description: "Multimodal model supporting vision-language input, 128k token context, structured outputs, function calling, and reasoning across 140+ languages.", use_cases: ["Multimodal reasoning", "Chat", "Agents", "Structured outputs"], model_id: "google/gemma-3-12b:free" },
            { provider: "Qwen", display_name: "Qwen3 4B (Free)", model_family: "Qwen3", parameters: "4B", multimodal: false, context_length: "41K", pricing: { input: "$0 / million tokens", output: "$0 / million tokens" }, description: "Dense language model with dual-mode architecture for reasoning and efficient dialogue, suitable for multi-turn chat and complex agent workflows.", use_cases: ["Chatbots", "Instruction following", "Reasoning agents"], model_id: "qwen/qwen3-4b:free" },
            { provider: "Google", display_name: "Gemma 3n 4B (Free)", model_family: "Gemma 3n", parameters: "4B", multimodal: true, context_length: "8K", pricing: { input: "$0 / million tokens", output: "$0 / million tokens" }, description: "Optimized for mobile and low-resource devices, supporting multimodal inputs including text, visual, and audio with flexible 32K token context.", use_cases: ["On-device AI", "Privacy-focused applications", "Multimodal tasks"], model_id: "google/gemma-3n-4b:free" },
            { provider: "MoonshotAI", display_name: "Kimi K2 0711 (Free)", model_family: "Kimi K2", parameters: "1T total (32B active, MoE)", multimodal: false, context_length: "33K", pricing: { input: "$0 / million tokens", output: "$0 / million tokens" }, description: "Mixture-of-Experts model optimized for coding, reasoning, and advanced agentic capabilities.", use_cases: ["Coding agents", "Tool use", "Reasoning tasks"], model_id: "moonshotai/kimi-k2-0711:free" },
            { provider: "Meta", display_name: "Llama 3.1 405B Instruct (Free)", model_family: "Llama 3.1", parameters: "405B", multimodal: false, context_length: "131K", pricing: { input: "$0 / million tokens", output: "$0 / million tokens" }, description: "High-quality instruct-tuned model optimized for dialogue use cases, comparable to GPT-4o and Claude 3.5 Sonnet.", use_cases: ["Dialogue", "Instruction-following", "Reasoning"], model_id: "meta-llama/llama-3.1-405b-instruct:free" },
            { provider: "Xiaomi", display_name: "MiMo-V2-Flash (Free)", model_family: "MiMo V2", parameters: "309B total (15B active, MoE)", multimodal: false, context_length: "262K", pricing: { input: "$0 / million tokens", output: "$0 / million tokens" }, deprecates_on: "2026-01-26", description: "Hybrid-attention MoE model with reasoning, coding, and agentic capabilities. Ranked #1 open-source model globally on SWE-bench.", use_cases: ["Agents", "Reasoning", "Coding", "Enterprise assistants"], model_id: "xiaomi/mimo-v2-flash:free" },
            { provider: "Mistral", display_name: "Devstral 2 2512 (Free)", model_family: "Devstral", parameters: "123B", multimodal: false, context_length: "262K", pricing: { input: "$0 / million tokens", output: "$0 / million tokens" }, deprecates_on: "2026-01-27", description: "Open-source agentic coding model capable of orchestrating multi-file changes, bug fixing, and modernizing legacy systems.", use_cases: ["Agentic coding", "Code refactoring", "Enterprise codebases"], model_id: "mistralai/devstral-2-2512:free" },
            { provider: "TNG Tech", display_name: "DeepSeek R1T2 Chimera (Free)", model_family: "R1T2 Chimera", parameters: "671B total (MoE)", multimodal: false, context_length: "164K", pricing: { input: "$0 / million tokens", output: "$0 / million tokens" }, description: "Second-generation Chimera model optimized for faster reasoning, long-context dialogue, and analysis tasks.", use_cases: ["Long-context reasoning", "Roleplay", "Analysis"], model_id: "tngtech/deepseek-r1t2-chimera:free" },
            { provider: "TNG Tech", display_name: "DeepSeek R1T Chimera (Free)", model_family: "R1T Chimera", parameters: "23.5B", multimodal: false, context_length: "164K", pricing: { input: "$0 / million tokens", output: "$0 / million tokens" }, description: "Merged DeepSeek-R1 and DeepSeek-V3 model balancing reasoning performance and token efficiency.", use_cases: ["Text generation", "Reasoning", "Instruction following"], model_id: "tngtech/deepseek-r1t-chimera:free" },
            { provider: "Z-AI", display_name: "GLM 4.5 Air (Free)", model_family: "GLM 4.5", parameters: "20.1B", multimodal: false, context_length: "131K", pricing: { input: "$0 / million tokens", output: "$0 / million tokens" }, description: "Lightweight MoE model for agent-centric applications with thinking and non-thinking modes.", use_cases: ["Agents", "Tool use", "Chatbots"], model_id: "z-ai/glm-4.5-air:free" },
            { provider: "DeepSeek", display_name: "DeepSeek R1 0528 (Free)", model_family: "R1", parameters: "671B total (37B active)", multimodal: false, context_length: "164K", pricing: { input: "$0 / million tokens", output: "$0 / million tokens" }, description: "Fully open-source reasoning model with performance comparable to OpenAI o1.", use_cases: ["Reasoning", "Research", "Agents"], model_id: "deepseek/deepseek-r1-0528:free" },
            { provider: "Meta", display_name: "Llama 3.3 70B Instruct (Free)", model_family: "Llama 3.3", parameters: "70B", multimodal: false, context_length: "131K", pricing: { input: "$0 / million tokens", output: "$0 / million tokens" }, description: "Multilingual instruction-tuned model optimized for dialogue across eight major languages.", use_cases: ["Multilingual chat", "Assistants", "Enterprise bots"], model_id: "meta-llama/llama-3.3-70b-instruct:free" },
            { provider: "Qwen", display_name: "Qwen3 Coder 480B A35B (Free)", model_family: "Qwen3 Coder", parameters: "480B total (35B active, MoE)", multimodal: false, context_length: "262K", pricing: { input: "$0 / million tokens", output: "$0 / million tokens" }, description: "MoE coding model optimized for long-context repositories, function calling, and agentic workflows.", use_cases: ["Coding agents", "Tool use", "Large repositories"], model_id: "qwen/qwen3-coder-480b-a35b:free" },
            { provider: "NVIDIA", display_name: "Nemotron 3 Nano 30B A3B (Free)", model_family: "Nemotron", parameters: "30B total (MoE)", multimodal: false, context_length: "256K", pricing: { input: "$0 / million tokens", output: "$0 / million tokens" }, description: "Efficient MoE model for agentic AI systems, open weights for private deployment.", use_cases: ["Agent systems", "Private AI", "Edge inference"], model_id: "nvidia/nemotron-3-nano-30b-a3b:free" },
            { provider: "Google", display_name: "Gemma 3 27B (Free)", model_family: "Gemma 3", parameters: "27B", multimodal: true, context_length: "131K", pricing: { input: "$0 / million tokens", output: "$0 / million tokens" }, description: "Multimodal open-source model with vision-language support and strong reasoning capabilities.", use_cases: ["Multimodal chat", "Vision analysis", "Agents"], model_id: "google/gemma-3-27b:free" },
            { provider: "OpenAI", display_name: "gpt-oss-120b (Free)", model_family: "GPT-OSS", parameters: "117B (MoE)", multimodal: false, context_length: "131K", pricing: { input: "$0 / million tokens", output: "$0 / million tokens" }, description: "Open-weight MoE model with configurable reasoning depth, tool use, browsing, and structured outputs.", use_cases: ["Agents", "Reasoning", "Production AI"], model_id: "openai/gpt-oss-120b:free" },
            { provider: "Google", display_name: "Gemini 2.0 Flash Experimental (Free)", model_family: "Gemini 2.0", parameters: "Unknown", multimodal: true, context_length: "1.05M", pricing: { input: "$0 / million tokens", output: "$0 / million tokens" }, description: "Ultra-fast multimodal Gemini model with excellent TTFT and long-context agentic capabilities.", use_cases: ["Real-time agents", "Multimodal apps"], model_id: "google/gemini-2.0-flash-exp:free" }
        ];

        const categoryColors = {
            "Knowledge": "bg-blue-500 text-white", "Weather": "bg-cyan-500 text-white", "IP & Network": "bg-indigo-500 text-white", "Fun": "bg-pink-500 text-white",
            "Quotes": "bg-purple-500 text-white", "Testing": "bg-yellow-500 text-black", "Games": "bg-red-500 text-white", "Finance": "bg-emerald-500 text-white",
            "Images": "bg-rose-500 text-white", "Time": "bg-teal-500 text-white", "Numbers": "bg-amber-500 text-black", "Health": "bg-lime-500 text-black",
            "Space": "bg-violet-500 text-white", "Books": "bg-orange-500 text-white", "Dictionary": "bg-sky-500 text-white", "Random": "bg-fuchsia-500 text-white",
            "Animals": "bg-green-500 text-white", "Utility": "bg-blue-600 text-white", "Developer Tools": "bg-gray-700 text-white", "Text & Language": "bg-indigo-600 text-white",
            "Gaming": "bg-red-600 text-white", "Data & Geo": "bg-teal-600 text-white", "Calendar & Time": "bg-amber-600 text-white", "News": "bg-rose-600 text-white",
            "Music & Media": "bg-purple-600 text-white", "Sports": "bg-emerald-600 text-white", "URLs & Tools": "bg-slate-600 text-white"
        };

        const authColors = {
            "No": "bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-300",
            "Yes": "bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300",
            "OAuth": "bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"
        };

        const authLoading = document.getElementById('auth-loading');
        const loginBtnDt = document.getElementById('login-btn-dt');
        const userProfileDt = document.getElementById('user-profile-dt');
        const loginBtnMb = document.getElementById('login-btn-mb');
        const userInfoMb = document.getElementById('user-info-mb');
        const menuBtn = document.getElementById('mobile-menu-btn');
        const apiGrid = document.getElementById('apiGrid');
        const categoryFilter = document.getElementById('categoryFilter');
        const apiSearch = document.getElementById('apiSearch');
        const authFilter = document.getElementById('authFilter');
        const noResults = document.getElementById('noResults');

        document.addEventListener('DOMContentLoaded', () => {
            initializeAPIs();
            setupFilters();
            initializeAIModels();
        });

        function initializeAPIs() {
            const categories = [...new Set(allApis.map(api => api.category))];
            categories.forEach(category => {
                const option = document.createElement('option');
                option.value = category;
                option.textContent = category;
                categoryFilter.appendChild(option);
            });
            displayAPIs(allApis);
        }

        function displayAPIs(apis) {
            apiGrid.innerHTML = '';
            if (apis.length === 0) {
                noResults.classList.remove('hidden');
                return;
            }
            noResults.classList.add('hidden');
            apis.forEach((api, index) => {
                const apiCard = document.createElement('div');
                apiCard.className = 'glass-card p-6 rounded-2xl relative border border-slate-200 dark:border-slate-800';
                apiCard.setAttribute('data-aos', 'fade-up');
                apiCard.setAttribute('data-aos-delay', (index % 3) * 100);
                apiCard.innerHTML = `
                    <div class="api-category-badge ${categoryColors[api.category] || 'bg-gray-500 text-white'}">${api.category}</div>
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="text-lg font-bold mb-1">${api.name}</h3>
                            <span class="px-3 py-1 rounded-full text-xs font-bold ${authColors[api.auth]}">${api.auth === 'No' ? 'No Auth' : api.auth === 'Yes' ? 'API Key' : 'OAuth'}</span>
                        </div>
                        <i class="fas fa-code text-xl text-orange-500"></i>
                    </div>
                    <p class="text-slate-600 dark:text-slate-400 text-sm mb-6 leading-relaxed">${api.description}</p>
                    <div class="mb-4">
                        <label class="block text-xs font-semibold text-slate-500 dark:text-slate-400 mb-2">Endpoint</label>
                        <div class="relative">
                            <input type="text" value="${api.endpoint}" class="w-full px-4 py-2 bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-slate-200 dark:border-slate-700 focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-xs truncate pr-20">
                            <button onclick="copyToClipboard(this.previousElementSibling)" class="absolute right-2 top-1/2 transform -translate-y-1/2 px-3 py-1 bg-blue-600 text-white rounded-lg text-xs font-semibold copy-btn hover:bg-blue-700 transition">
                                <i class="far fa-copy"></i>
                            </button>
                        </div>
                    </div>
                    <button onclick="setTestEndpoint('${api.endpoint.replace(/'/g, "\\'")}')" class="w-full px-4 py-2 bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg text-sm font-semibold transition">
                        <i class="fas fa-bolt mr-2"></i>Test This API
                    </button>
                `;
                apiGrid.appendChild(apiCard);
            });
            AOS.refresh();
        }

        function setupFilters() {
            apiSearch.addEventListener('input', filterAPIs);
            categoryFilter.addEventListener('change', filterAPIs);
            authFilter.addEventListener('change', filterAPIs);
        }

        function filterAPIs() {
            const searchTerm = apiSearch.value.toLowerCase();
            const selectedCategory = categoryFilter.value;
            const selectedAuth = authFilter.value;
            const filtered = allApis.filter(api => {
                const matchesSearch = api.name.toLowerCase().includes(searchTerm) || api.description.toLowerCase().includes(searchTerm) || api.category.toLowerCase().includes(searchTerm);
                const matchesCategory = selectedCategory === 'all' || api.category === selectedCategory;
                const matchesAuth = selectedAuth === 'all' || api.auth === selectedAuth;
                return matchesSearch && matchesCategory && matchesAuth;
            });
            displayAPIs(filtered);
        }

        function copyToClipboard(element) {
            const text = element.value || element.textContent;
            navigator.clipboard.writeText(text).then(() => {
                const btn = element.nextElementSibling || element;
                btn.classList.add('copied');
                setTimeout(() => btn.classList.remove('copied'), 2000);
            });
        }

        function setTestEndpoint(endpoint) {
            document.getElementById('testEndpoint').value = endpoint;
            document.getElementById('testEndpoint').scrollIntoView({ behavior: 'smooth' });
        }

        async function testAPI() {
            const endpoint = document.getElementById('testEndpoint').value;
            const resultDiv = document.getElementById('testResult');
            const output = document.getElementById('responseOutput');
            if (!endpoint) return;
            output.textContent = 'Testing API...';
            resultDiv.classList.remove('hidden');
            try {
                const response = await fetch(endpoint, { headers: { 'Accept': 'application/json', 'Content-Type': 'application/json' } });
                const data = await response.json();
                output.textContent = JSON.stringify(data, null, 2);
            } catch (error) {
                output.textContent = `Error: ${error.message}\n\nNote: Some APIs may require CORS or API keys`;
            }
        }

        function initializeAIModels() {
            const aiGrid = document.getElementById('aiModelsGrid');
            const modelSelect = document.getElementById('aiModelSelect');
            aiGrid.innerHTML = '';
            openRouterModels.forEach((model, index) => {
                const aiCard = document.createElement('div');
                aiCard.className = 'glass-card p-6 rounded-2xl relative border border-purple-200 dark:border-purple-800/50';
                aiCard.setAttribute('data-aos', 'fade-up');
                aiCard.setAttribute('data-aos-delay', (index % 3) * 100);
                const isDeprecated = model.deprecates_on && new Date(model.deprecates_on) < new Date();
                const deprecationBadge = model.deprecates_on ? `<span class="px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-300 rounded-full text-xs font-bold">Until ${model.deprecates_on}</span>` : '';
                aiCard.innerHTML = `
                    <div class="api-category-badge ${isDeprecated ? 'bg-red-500' : 'bg-purple-500'} text-white">${model.provider}</div>
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="text-lg font-bold mb-1">${model.display_name}</h3>
                            <div class="flex flex-wrap gap-2 mt-2">
                                <span class="px-2 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-300 rounded-full text-xs font-bold">${model.parameters}</span>
                                ${model.multimodal ? '<span class="px-2 py-1 bg-pink-100 dark:bg-pink-900/30 text-pink-600 dark:text-pink-300 rounded-full text-xs font-bold">Multimodal</span>' : ''}
                                ${deprecationBadge}
                            </div>
                        </div>
                        <i class="fas fa-brain text-xl text-purple-500"></i>
                    </div>
                    <p class="text-slate-600 dark:text-slate-400 text-sm mb-4 leading-relaxed">${model.description}</p>
                    <div class="text-xs text-slate-500 mb-4">
                        <div class="flex items-center gap-2 mb-1"><i class="fas fa-layer-group"></i><span>Context: ${model.context_length}</span></div>
                        <div class="flex items-center gap-2"><i class="fas fa-bolt"></i><span>${model.use_cases.slice(0, 2).join(', ')}</span></div>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="selectModel('${model.model_id}', '${model.display_name}')" class="flex-1 px-4 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-lg text-sm font-semibold hover:opacity-90 transition">
                            <i class="fas fa-code mr-1"></i>Select Model
                        </button>
                        <button onclick="showModelInfo('${model.model_id}')" class="px-4 py-2 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 rounded-lg text-sm font-semibold hover:bg-slate-200 dark:hover:bg-slate-700 transition">
                            <i class="fas fa-info"></i>
                        </button>
                    </div>
                `;
                aiGrid.appendChild(aiCard);
                const option = document.createElement('option');
                option.value = model.model_id;
                option.textContent = `${model.display_name} (${model.provider})`;
                option.setAttribute('data-model', JSON.stringify(model));
                modelSelect.appendChild(option);
            });
            if (openRouterModels.length > 0) modelSelect.value = openRouterModels[0].model_id;
            AOS.refresh();
        }

        function selectModel(modelId, displayName) {
            document.getElementById('aiModelSelect').value = modelId;
            document.getElementById('aiMessage').focus();
            showToast(`Selected: ${displayName}`);
        }

        function showModelInfo(modelId) {
            const model = openRouterModels.find(m => m.model_id === modelId);
            if (!model) return;
            const modalHTML = `
                <div class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4">
                    <div class="bg-white dark:bg-slate-800 rounded-2xl max-w-2xl w-full max-h-[80vh] overflow-y-auto">
                        <div class="p-6">
                            <div class="flex justify-between items-center mb-4">
                                <h3 class="text-xl font-bold">${model.display_name}</h3>
                                <button onclick="closeModelInfo()" class="text-slate-400 hover:text-slate-600"><i class="fas fa-times text-xl"></i></button>
                            </div>
                            <div class="grid grid-cols-2 gap-4 mb-6">
                                <div class="bg-slate-50 dark:bg-slate-700/50 p-3 rounded-lg"><div class="text-xs text-slate-500">Provider</div><div class="font-semibold">${model.provider}</div></div>
                                <div class="bg-slate-50 dark:bg-slate-700/50 p-3 rounded-lg"><div class="text-xs text-slate-500">Parameters</div><div class="font-semibold">${model.parameters}</div></div>
                                <div class="bg-slate-50 dark:bg-slate-700/50 p-3 rounded-lg"><div class="text-xs text-slate-500">Context Length</div><div class="font-semibold">${model.context_length}</div></div>
                                <div class="bg-slate-50 dark:bg-slate-700/50 p-3 rounded-lg"><div class="text-xs text-slate-500">Multimodal</div><div class="font-semibold">${model.multimodal ? 'Yes' : 'No'}</div></div>
                            </div>
                            <div class="mb-4"><div class="text-sm font-semibold mb-2">Description</div><p class="text-slate-600 dark:text-slate-300">${model.description}</p></div>
                            <div class="mb-4"><div class="text-sm font-semibold mb-2">Use Cases</div><div class="flex flex-wrap gap-2">${model.use_cases.map(useCase => `<span class="px-3 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-300 rounded-full text-xs">${useCase}</span>`).join('')}</div></div>
                            <div class="mb-4"><div class="text-sm font-semibold mb-2">Model ID</div><div class="flex"><input type="text" value="${model.model_id}" class="flex-1 px-3 py-2 bg-slate-50 dark:bg-slate-700 rounded-l-lg border border-slate-200 dark:border-slate-600 text-sm font-mono" readonly><button onclick="copyToClipboard(this.previousElementSibling)" class="px-4 bg-purple-600 text-white rounded-r-lg hover:bg-purple-700 transition"><i class="far fa-copy"></i></button></div></div>
                            <div class="text-center"><button onclick="selectModel('${model.model_id}', '${model.display_name}'); closeModelInfo();" class="px-6 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-lg font-semibold hover:opacity-90 transition">Use This Model</button></div>
                        </div>
                    </div>
                </div>
            `;
            const modalDiv = document.createElement('div');
            modalDiv.innerHTML = modalHTML;
            document.body.appendChild(modalDiv);
            document.body.style.overflow = 'hidden';
        }

        function closeModelInfo() {
            const modal = document.querySelector('.fixed.inset-0.bg-black\\/50');
            if (modal) { document.body.removeChild(modal); document.body.style.overflow = ''; }
        }

        function toggleApiKeyVisibility() {
            const keyInput = document.getElementById('openrouterKey');
            const eyeIcon = document.getElementById('keyEyeIcon');
            if (keyInput.type === 'password') { keyInput.type = 'text'; eyeIcon.className = 'far fa-eye-slash'; } 
            else { keyInput.type = 'password'; eyeIcon.className = 'far fa-eye'; }
        }

        function useDemoKey() {
            document.getElementById('openrouterKey').value = 'sk-or-v1-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx';
            showToast('Demo key loaded. Get your free key from openrouter.ai');
        }

        function loadExample() {
            const examples = ["Explain quantum computing in simple terms.", "Write a Python function to reverse a string.", "What are the benefits of renewable energy?", "Create a short story about a robot learning to paint.", "How does blockchain technology work?", "Write a JavaScript function to validate email addresses.", "Explain the theory of relativity to a 10-year-old.", "What is machine learning and how is it used today?"];
            const randomExample = examples[Math.floor(Math.random() * examples.length)];
            document.getElementById('aiMessage').value = randomExample;
            showToast('Example question loaded');
        }

        function clearChat() {
            document.getElementById('aiMessage').value = '';
            document.getElementById('aiResponse').classList.add('hidden');
            showToast('Chat cleared');
        }

        async function sendAIChat() {
            const message = document.getElementById('aiMessage').value.trim();
            const modelId = document.getElementById('aiModelSelect').value;
            const apiKey = document.getElementById('openrouterKey').value.trim();
            if (!message) { showToast('Please enter a message', 'error'); return; }
            if (!apiKey || apiKey.includes('xxxxxxxx')) { showToast('Please enter a valid OpenRouter API key', 'error'); return; }
            const sendBtn = document.getElementById('sendAIBtn');
            const originalText = sendBtn.innerHTML;
            sendBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
            sendBtn.disabled = true;
            const responseDiv = document.getElementById('aiResponse');
            const responseText = document.getElementById('responseText');
            const aiLoading = document.getElementById('aiLoading');
            responseDiv.classList.remove('hidden');
            responseText.innerHTML = '';
            aiLoading.classList.remove('hidden');
            try {
                await new Promise(resolve => setTimeout(resolve, 2000));
                const model = openRouterModels.find(m => m.model_id === modelId);
                const simulatedResponse = `This is a simulated response from ${model?.display_name || 'the AI model'}.

**Question:** ${message}

**Model Details:**
- Provider: ${model?.provider}
- Parameters: ${model?.parameters}
- Context Length: ${model?.context_length}
- Multimodal: ${model?.multimodal ? 'Yes' : 'No'}

**How to use in production:**
1. Get a real API key from openrouter.ai
2. Make a POST request to: https://openrouter.ai/api/v1/chat/completions
3. Headers: Authorization: Bearer YOUR_API_KEY
4. Body: { "model": "${modelId}", "messages": [{"role": "user", "content": "${message}"}] }

**Example response structure would include:**
- AI-generated answer based on your query
- Token usage information
- Model performance metrics

**Note:** This is a demo. Replace the demo key with your actual OpenRouter API key for real AI responses.`;
                responseText.innerHTML = simulatedResponse.replace(/\n/g, '<br>');
            } catch (error) {
                responseText.innerHTML = `Error: ${error.message}<br><br>Please check your API key and try again.`;
            } finally {
                aiLoading.classList.add('hidden');
                sendBtn.innerHTML = originalText;
                sendBtn.disabled = false;
            }
        }

        function copyAIText() {
            const text = document.getElementById('responseText').innerText;
            navigator.clipboard.writeText(text).then(() => { showToast('Response copied to clipboard'); });
        }

        function showToast(message, type = 'success') {
            const existingToasts = document.querySelectorAll('.toast-notification');
            existingToasts.forEach(toast => toast.remove());
            const toast = document.createElement('div');
            toast.className = `toast-notification fixed top-24 right-6 px-6 py-3 rounded-xl font-semibold text-white z-50 transition-all duration-300 ${type === 'error' ? 'bg-red-500' : 'bg-green-500'}`;
            toast.textContent = message;
            document.body.appendChild(toast);
            setTimeout(() => { toast.remove(); }, 3000);
        }

        firebase.auth().onAuthStateChanged((user) => {
            if(authLoading) authLoading.classList.add('hidden');
            if (user) {
                loginBtnDt.classList.add('hidden');
                loginBtnMb.classList.add('hidden');
                userProfileDt.classList.remove('hidden');
                userInfoMb.classList.remove('hidden');
                const displayName = user.displayName || user.email.split('@')[0];
                const photo = user.photoURL || `https://ui-avatars.com/api/?name=${displayName}&background=2563eb&color=fff&bold=true`;
                document.getElementById('user-img-dt').src = photo;
                document.getElementById('user-name-dt').innerText = displayName;
                document.getElementById('user-img-mb').src = photo;
                document.getElementById('user-name-mb').innerText = displayName;
                menuBtn.innerHTML = `<img src="${photo}" class="w-full h-full object-cover rounded-full border border-blue-600">`;
            } else {
                loginBtnDt.classList.remove('hidden');
                loginBtnMb.classList.remove('hidden');
                userProfileDt.classList.add('hidden');
                userInfoMb.classList.add('hidden');
                menuBtn.innerHTML = `<i class="fa-solid fa-bars-staggered text-lg" id="menu-icon"></i>`;
            }
        });

        function logout() { firebase.auth().signOut().then(() => window.location.reload()); }

        function toggleDarkMode() {
            const html = document.documentElement;
            html.classList.toggle('dark');
            const isDark = html.classList.contains('dark');
            document.getElementById('theme-icon').className = isDark ? 'fa-solid fa-sun text-xl' : 'fa-solid fa-moon text-xl';
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
        }

        const menu = document.getElementById('mobile-menu');
        menuBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            menu.classList.toggle('active');
            const iconElement = document.getElementById('menu-icon');
            if(iconElement) { iconElement.className = menu.classList.contains('active') ? 'fa-solid fa-xmark text-xl' : 'fa-solid fa-bars-staggered text-xl'; }
        });

        document.addEventListener('click', (e) => {
            if (!menu.contains(e.target) && !menuBtn.contains(e.target)) {
                menu.classList.remove('active');
                const iconElement = document.getElementById('menu-icon');
                if(iconElement) iconElement.className = 'fa-solid fa-bars-staggered text-lg';
            }
        });

        AOS.init({ duration: 800, once: false, mirror: true });

        if (localStorage.getItem('theme') === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
            if(document.getElementById('theme-icon')) document.getElementById('theme-icon').className = 'fa-solid fa-sun text-xl';
        }

        const themeToggleBtn = document.querySelector('button[onclick="toggleDarkMode()"]');
        if (themeToggleBtn) { themeToggleBtn.addEventListener('click', toggleDarkMode); }
    </script>
</body>
</html>